<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Protocol for grabbing the keyboard from Xwayland"><title>wayland_protocols::unstable::xwayland_keyboard_grab - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-081576b923113409.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="wayland_protocols" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0 (129f3b996 2024-06-10)" data-channel="1.79.0" data-search-js="search-bf21c90c8c1d92b1.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-e32f0c247825364d.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-09095024cf37855e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../wayland_protocols/index.html">wayland_protocols</a><span class="version">0.29.5</span></h2></div><h2 class="location"><a href="#">Module xwayland_keyboard_grab</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li></ul></section><h2><a href="../index.html">In wayland_protocols::unstable</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../../wayland_protocols/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Type ‘S’ or ‘/’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings">Settings</a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">wayland_protocols</a>::<wbr><a href="../index.html">unstable</a>::<wbr><a class="mod" href="#">xwayland_keyboard_grab</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../../src/wayland_protocols/unstable.rs.html#352">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Protocol for grabbing the keyboard from Xwayland</p>
<p>This protocol is application-specific to meet the needs of the X11
protocol through Xwayland. It provides a way for Xwayland to request
all keyboard events to be forwarded to a surface even when the
surface does not have keyboard focus.</p>
<p>In the X11 protocol, a client may request an “active grab” on the
keyboard. On success, all key events are reported only to the
grabbing X11 client. For details, see XGrabKeyboard(3).</p>
<p>The core Wayland protocol does not have a notion of an active
keyboard grab. When running in Xwayland, X11 applications may
acquire an active grab inside Xwayland but that cannot be translated
to the Wayland compositor who may set the input focus to some other
surface. In doing so, it breaks the X11 client assumption that all
key events are reported to the grabbing client.</p>
<p>This protocol specifies a way for Xwayland to request all keyboard
be directed to the given surface. The protocol does not guarantee
that the compositor will honor this request and it does not
prescribe user interfaces on how to handle the respond. For example,
a compositor may inform the user that all key events are now
forwarded to the given client surface, or it may ask the user for
permission to do so.</p>
<p>Compositors are required to restrict access to this application
specific protocol to Xwayland alone.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="v1/index.html" title="mod wayland_protocols::unstable::xwayland_keyboard_grab::v1">v1</a></div></li></ul></section></div></main></body></html>